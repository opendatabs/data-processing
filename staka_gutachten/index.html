<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vom Kanton in Auftrag gegebene Gutachten</title>

  <style>
    :root{
      /* primary = green */
      --primary-700:#2A713F; /* green-700 */
      --primary-600:#32834A;

      /* from your palette */
      --red-50:#FFF1EF;
      --red-800:#B81600;

      --gray-20:#F8F8F8;
      --gray-100:#EBEBEB;
      --gray-900:#333333;
      --gray-800:#403F3F;

      --blue-700:#146C8B;
      --blue-900:#1E4557;

      --purple-200:#E8DAF4;
    }

    body{
      font-family: Inter, "Helvetica Neue", Helvetica, Arial, sans-serif;
      color: var(--gray-900);
      margin: 0;
      padding: 30px;
      background: #fff;
    }

    .page{
      min-height: calc(100vh - 60px);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1{
      font-size: 36px;
      line-height: 40px;
      font-weight: 700;
      margin: 0 0 20px 0;
      color: var(--primary-700);
      text-align: center;
      max-width: 900px;
    }

    p{ margin: 15px 0; }
    ul{ margin: 15px 0 0 18px; }
    li{ padding-bottom: 12px; }

    a{ color: var(--blue-900); }
    a:hover{ color: var(--blue-700); }

    .box{
      position: relative;
      margin: 30px 0;
      border-radius: 10px;
      padding: 20px 30px 20px 20px;
      max-width: 610px;
      width: 100%;
      background: #F2F7F3;
    }

    .box__header{
      display:flex;
      align-items:baseline;
      margin-right:60px;
    }

    .box__title{
      font-size: 20px;
      font-weight: 700;
      color: var(--primary-600);
    }

    .box__content{
      margin-top: 15px;
      font-size:16px;
      line-height:22px;
    }

    .box__icon{
      position: absolute;
      right: 15px;
      top: 15px;
      width: 50px;
      height: 50px;
    }

    .box--warning{
      background: var(--red-50);
    }

    .box--warning .box__title{
      color: var(--red-800);
    }

    .button{
      border: 1px solid var(--blue-900);
      background: var(--gray-20);
      color: var(--blue-900);
      cursor: pointer;
      transition: all 250ms ease-in-out;
    }

    .button.is-action{
      border-radius: 20px;
      padding: 10px 20px;
    }

    .button.is-action:hover{
      background: var(--blue-700);
      border-color: var(--blue-700);
      color: #fff;
    }

    .button:disabled{
      background: #E3E3E3;
      border-color: #E3E3E3;
      color: var(--gray-800);
      cursor: not-allowed;
    }

    .row{
      margin-top: 15px;
    }

    .muted{
      font-size: 12px;
      color:#666;
    }
  </style>
</head>

<body>
  <div class="page">

    <h1>Vom Kanton in Auftrag gegebene Gutachten</h1>

    <div class="box box--warning" id="gate">
      <div class="box__icon" aria-hidden="true">
        <img src="warning.svg" alt="" width="50" height="50" />
      </div>

      <div class="box__header">
        <div class="box__title">Wichtiger Hinweis – Bedingungen für den Zugriff</div>
      </div>

      <div class="box__content">
        <p>Vor dem Zugriff auf das Gutachten bestätigen Sie bitte:</p>
        <ul>
          <li>Ich habe die <a href="https://data.bs.ch/pages/wasistogd/#nutzung" target="_blank" rel="noopener">Nutzungs- und Rahmenbedingungen von OGD</a> gelesen.</li>
          <li>Die Urheberrechte der Autorinnen und Autoren bleiben gewahrt.</li>
        </ul>

        <div class="row">
          <button class="button is-action" id="open">Akzeptieren & öffnen</button>
        </div>

        <p class="muted" id="fileHint"></p>
      </div>
    </div>

  </div>

<script>
  const params = new URLSearchParams(location.search);
  const file = params.get("file");
  const isSafe = file && /^[a-zA-Z0-9._-]+\.pdf$/i.test(file);

  const btn = document.getElementById("open");
  const fileHint = document.getElementById("fileHint");

  if (!isSafe) {
    fileHint.innerHTML = 'Kein gültiges PDF angegeben. Erwartet: <code>?file=NAME.pdf</code>';
    btn.disabled = true;
  } else {
    fileHint.textContent = "Datei: " + file;
  }

  btn.addEventListener("click", () => {
    if (!isSafe) return;
    window.location.href = file;
  });
</script>

</body>
</html>
